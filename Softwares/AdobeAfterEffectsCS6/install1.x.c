#if 0
	shc Version 4.0.1, Generic Shell Script Compiler
	GNU GPL Version 3 Md Jahidul Hamid <jahidulhamid@yahoo.com>

	shc -f install1 -o install1 
#endif

static  char data [] = 
#define      msg1_z	65
#define      msg1	((&data[8]))
	"\145\134\271\362\322\160\117\271\255\221\305\035\326\022\127\261"
	"\256\037\047\217\121\224\166\305\242\166\221\353\237\050\260\274"
	"\264\161\340\013\156\212\124\272\145\036\120\175\332\360\377\304"
	"\136\020\103\231\054\304\245\003\112\351\201\011\215\205\012\000"
	"\341\260\070\355\071\002\246\331\335\267\276"
#define      opts_z	1
#define      opts	((&data[75]))
	"\136"
#define      date_z	1
#define      date	((&data[76]))
	"\307"
#define      text_z	3315
#define      text	((&data[87]))
	"\104\233\250\177\044\323\313\034\215\342\063\166\306\271\043\142"
	"\340\075\217\344\134\241\057\155\224\260\250\057\225\044\272\103"
	"\103\361\100\122\171\011\104\367\232\075\155\364\007\157\272\366"
	"\014\247\136\217\123\275\355\066\327\071\354\273\044\330\332\046"
	"\275\335\156\070\031\310\016\160\370\105\067\214\344\042\264\220"
	"\365\231\172\061\130\202\164\166\007\242\314\311\265\023\275\046"
	"\232\012\314\227\110\146\221\372\031\125\145\203\115\272\023\357"
	"\217\100\170\136\341\157\060\135\143\070\343\013\006\005\057\003"
	"\375\247\174\100\374\326\360\224\006\164\055\163\074\045\206\336"
	"\350\220\366\325\371\157\125\235\310\065\135\365\220\102\017\030"
	"\127\265\340\175\002\355\222\133\124\146\041\361\173\011\003\043"
	"\071\167\200\015\337\370\311\236\010\356\002\104\106\162\332\345"
	"\222\325\113\331\242\362\023\024\106\331\276\320\231\173\214\377"
	"\077\353\171\153\352\065\265\122\057\207\064\001\352\015\357\011"
	"\043\003\132\343\220\245\110\010\150\006\323\211\173\172\244\334"
	"\200\221\225\371\046\360\350\302\002\301\276\052\253\133\107\163"
	"\051\375\356\001\002\232\205\146\027\135\245\245\235\351\351\347"
	"\043\176\116\231\074\017\300\022\106\043\076\141\122\147\236\116"
	"\157\222\267\363\026\074\215\320\271\125\270\230\366\215\376\217"
	"\171\266\043\120\075\002\335\217\331\200\367\022\277\267\164\235"
	"\330\307\310\344\235\051\072\143\347\267\110\320\164\351\333\041"
	"\371\250\234\267\304\111\041\017\217\354\271\177\016\134\265\255"
	"\335\370\033\165\241\134\275\024\160\033\304\352\222\366\120\175"
	"\004\005\144\326\130\321\112\202\022\011\261\052\345\330\252\026"
	"\376\063\172\231\260\314\051\025\205\314\000\310\262\342\052\242"
	"\216\104\123\036\221\153\162\025\255\043\201\243\260\165\117\337"
	"\175\363\122\047\046\156\317\132\014\025\320\365\232\065\131\224"
	"\126\305\153\032\353\244\364\111\020\116\326\241\355\075\367\246"
	"\014\365\207\355\070\045\244\104\160\202\072\205\357\370\231\261"
	"\320\011\251\104\373\072\143\051\313\236\303\065\110\306\377\126"
	"\330\034\163\134\300\327\075\224\216\045\014\140\263\236\022\127"
	"\060\154\126\205\207\131\301\076\157\033\063\373\257\324\262\166"
	"\000\305\251\214\042\307\047\344\214\107\055\051\312\207\073\007"
	"\355\025\007\257\257\160\117\216\331\345\064\053\263\220\230\361"
	"\267\303\356\013\335\127\231\232\215\353\171\126\274\344\143\326"
	"\270\071\036\125\210\240\051\212\351\323\034\123\170\006\246\306"
	"\201\136\070\334\000\135\035\376\253\273\014\022\357\021\044\036"
	"\211\274\167\057\250\364\352\055\301\156\002\012\057\051\046\110"
	"\352\235\161\036\114\201\312\173\146\335\145\207\021\236\150\030"
	"\212\265\003\130\354\164\025\015\176\120\273\310\026\154\120\371"
	"\141\173\375\066\076\333\223\310\272\167\023\360\357\264\011\275"
	"\105\230\041\052\022\001\131\350\116\106\244\043\003\061\021\061"
	"\021\255\052\253\120\110\152\316\073\207\147\354\040\105\162\167"
	"\065\346\145\353\143\317\211\031\222\260\265\104\202\006\347\240"
	"\326\130\062\207\310\371\003\111\331\271\102\133\265\033\162\074"
	"\171\205\230\121\123\054\220\217\046\176\160\010\310\015\321\354"
	"\317\216\302\107\300\344\126\263\167\253\016\262\314\360\276\233"
	"\151\251\202\332\222\273\326\007\370\324\166\305\200\075\270\160"
	"\067\040\051\066\333\357\337\347\057\062\051\224\110\315\171\377"
	"\117\313\370\125\357\252\161\373\367\163\305\374\254\120\046\220"
	"\063\133\265\367\350\124\000\362\220\336\344\161\316\337\310\142"
	"\152\271\173\317\331\062\264\302\220\245\303\177\264\251\356\325"
	"\007\103\255\376\323\206\127\145\012\270\356\345\160\336\117\222"
	"\002\072\207\131\165\141\355\311\343\273\006\136\126\132\202\077"
	"\310\066\275\014\075\225\151\210\203\233\313\156\255\227\236\311"
	"\002\166\155\310\145\123\325\014\075\245\371\144\000\127\161\012"
	"\046\337\333\120\233\201\335\116\067\300\034\121\024\346\130\116"
	"\040\267\335\042\071\270\351\201\071\260\235\330\316\123\076\177"
	"\252\150\350\217\320\124\153\252\316\005\153\211\267\042\012\223"
	"\227\037\135\103\374\057\245\256\153\264\261\114\357\353\054\153"
	"\027\273\011\356\106\101\053\364\003\154\221\017\161\003\176\103"
	"\347\121\025\104\113\352\340\120\207\344\236\166\270\146\070\226"
	"\057\120\257\236\312\116\167\331\322\211\321\363\350\060\055\256"
	"\374\227\276\127\303\165\070\263\236\031\155\270\350\175\001\070"
	"\261\006\231\133\360\052\347\304\334\030\262\125\133\351\167\040"
	"\101\203\123\234\073\306\133\277\011\274\073\006\354\103\032\072"
	"\324\071\344\306\333\231\003\371\252\014\277\015\261\217\355\276"
	"\113\044\260\111\023\157\326\053\122\033\362\230\250\114\340\343"
	"\103\360\356\160\352\010\305\060\376\212\315\147\225\224\013\302"
	"\231\262\151\005\304\312\243\005\272\354\005\276\063\364\255\225"
	"\364\270\151\133\040\052\070\010\107\053\114\155\160\374\335\237"
	"\044\265\327\300\127\231\304\370\020\245\334\373\151\237\100\303"
	"\361\062\207\220\166\236\135\045\125\170\067\073\060\116\354\341"
	"\337\247\346\106\167\044\273\303\161\375\270\316\305\165\173\270"
	"\224\222\133\234\300\243\203\034\250\301\253\242\203\010\073\131"
	"\006\302\073\224\111\143\032\141\156\347\063\217\211\026\263\070"
	"\326\325\000\010\073\023\100\364\042\011\346\370\250\125\002\223"
	"\015\137\210\347\257\305\100\261\023\324\274\070\023\300\076\377"
	"\150\341\315\152\110\331\161\207\372\103\050\340\203\231\304\267"
	"\100\177\264\360\221\364\003\021\201\322\052\306\020\066\351\361"
	"\137\034\151\356\144\353\166\220\267\172\017\323\006\073\346\221"
	"\240\323\074\234\376\003\000\075\046\247\071\013\146\067\350\037"
	"\361\247\106\165\335\074\152\062\022\373\150\004\316\155\043\355"
	"\127\233\227\060\353\161\261\346\247\126\224\316\200\341\336\302"
	"\323\007\326\052\172\010\377\104\320\367\334\001\260\310\232\047"
	"\243\234\334\045\340\200\214\046\262\271\101\174\075\035\023\366"
	"\126\301\374\364\207\273\250\250\323\272\165\203\157\337\352\256"
	"\177\326\357\000\247\265\363\132\011\274\367\212\315\244\354\077"
	"\067\200\177\335\113\013\235\212\366\123\176\311\277\310\104\307"
	"\073\241\260\321\234\340\040\376\166\334\351\062\250\321\233\111"
	"\157\056\256\354\343\007\333\121\224\136\323\021\264\251\273\056"
	"\134\351\020\374\050\072\245\371\151\256\231\166\375\103\041\371"
	"\107\231\212\104\165\212\123\173\131\311\210\137\062\255\356\246"
	"\005\104\254\060\331\065\200\375\170\153\153\372\111\341\253\017"
	"\150\273\273\233\266\022\053\071\120\367\005\320\262\010\260\025"
	"\127\320\110\201\055\273\116\276\151\306\040\063\357\163\174\130"
	"\013\366\165\067\030\124\200\131\006\017\065\373\033\217\010\364"
	"\310\213\124\310\101\127\022\120\063\353\031\016\143\232\177\177"
	"\104\362\344\321\013\213\075\245\041\066\367\264\034\316\247\040"
	"\077\327\352\135\305\035\017\132\033\156\011\311\025\141\372\333"
	"\155\066\346\140\211\170\201\312\322\006\266\341\134\353\154\355"
	"\304\053\225\000\200\102\171\167\176\363\113\037\336\175\073\203"
	"\221\253\017\312\213\021\276\216\212\335\241\023\022\217\064\230"
	"\253\171\242\301\235\255\141\222\163\127\347\047\021\177\273\067"
	"\271\374\072\306\023\042\360\356\062\016\070\134\341\253\007\277"
	"\314\101\316\154\345\044\056\140\163\335\203\372\374\012\130\055"
	"\277\075\231\176\222\247\013\011\162\145\167\142\147\154\365\032"
	"\054\002\202\053\073\205\212\224\022\246\023\362\372\272\270\062"
	"\312\157\220\135\212\227\372\054\244\345\347\265\313\231\252\320"
	"\233\270\360\025\167\123\076\263\060\046\026\233\012\036\374\204"
	"\022\376\144\217\111\025\072\214\260\227\232\044\375\123\226\366"
	"\237\100\153\073\351\034\374\356\266\203\122\340\060\171\042\043"
	"\170\333\050\112\162\307\357\005\124\145\172\270\135\020\173\245"
	"\324\177\316\375\152\120\100\346\006\204\314\323\344\113\260\230"
	"\345\217\064\352\350\151\254\176\065\137\110\247\250\112\343\064"
	"\126\221\305\246\222\102\212\130\333\366\214\261\377\032\253\132"
	"\373\156\113\007\034\200\062\206\002\255\023\121\112\007\305\265"
	"\146\370\376\344\345\313\121\363\223\114\136\226\122\025\372\100"
	"\304\144\264\121\360\116\014\146\142\156\007\137\125\016\374\153"
	"\165\074\122\163\135\156\041\254\266\376\224\246\174\173\266\264"
	"\317\357\266\264\054\376\315\164\327\003\173\101\225\237\127\233"
	"\105\342\127\260\074\363\070\205\271\347\363\354\143\202\264\140"
	"\231\053\236\232\050\357\062\002\004\326\253\342\353\025\300\313"
	"\174\140\131\356\152\105\171\007\253\014\206\361\373\024\323\053"
	"\256\213\325\373\363\136\125\035\230\274\374\103\135\210\302\066"
	"\363\156\110\340\074\272\227\015\342\362\127\114\355\300\202\121"
	"\015\221\326\374\274\011\060\317\234\274\215\137\217\273\235\045"
	"\016\141\266\313\267\035\305\253\175\125\351\241\251\044\122\260"
	"\033\353\071\060\031\113\272\243\175\310\344\333\023\270\153\027"
	"\002\045\342\340\000\354\316\022\076\332\361\055\217\063\334\020"
	"\371\061\073\142\101\260\366\000\135\330\353\371\022\300\106\343"
	"\342\225\040\226\201\344\213\054\227\022\066\260\015\016\157\205"
	"\072\056\006\077\034\240\143\334\044\153\361\226\376\131\017\107"
	"\210\132\170\252\271\074\077\214\140\140\054\326\113\115\121\032"
	"\213\375\246\173\201\321\214\353\234\251\062\045\260\254\041\123"
	"\362\127\103\360\211\066\306\310\331\226\013\070\353\267\240\146"
	"\275\160\277\050\060\371\044\100\217\236\000\217\074\015\230\364"
	"\046\071\350\363\270\376\044\252\216\054\044\352\130\331\013\134"
	"\163\263\172\351\054\070\212\355\317\117\063\336\271\162\272\254"
	"\301\214\143\013\137\157\070\340\223\210\003\231\137\232\370\215"
	"\112\332\256\023\022\067\263\054\360\150\224\352\221\256\162\234"
	"\240\312\202\206\323\044\247\145\355\137\063\327\171\047\126\332"
	"\077\212\105\037\035\312\064\206\271\150\153\261\272\037\151\156"
	"\016\050\156\261\205\313\173\115\053\353\341\364\145\174\311\175"
	"\145\101\214\146\132\064\143\131\043\075\271\066\300\064\222\221"
	"\154\274\010\214\111\161\204\262\132\101\157\241\323\353\056\304"
	"\277\304\156\217\153\012\377\377\021\131\113\235\174\104\325\114"
	"\363\177\256\047\270\330\254\330\260\102\353\143\321\075\033\100"
	"\366\270\322\272\312\157\377\340\036\161\170\350\077\275\350\151"
	"\072\270\075\053\201\031\200\310\116\165\335\316\347\104\371\010"
	"\255\326\163\153\357\117\265\354\153\107\001\367\032\137\325\343"
	"\157\171\266\045\160\037\364\377\354\365\335\363\240\161\224\023"
	"\330\021\202\056\042\024\220\261\011\366\321\033\237\377\335\210"
	"\171\242\370\276\225\115\056\251\072\220\261\145\027\317\074\211"
	"\255\035\271\306\254\037\257\307\046\010\271\120\100\212\134\210"
	"\133\312\333\343\211\206\215\100\371\026\311\274\324\171\120\353"
	"\237\074\247\023\203\335\160\342\367\341\120\030\042\145\326\346"
	"\044\336\335\151\175\237\364\111\116\227\213\260\234\173\337\161"
	"\331\145\246\051\124\166\115\151\156\324\310\145\136\016\201\064"
	"\255\124\212\305\077\310\021\224\146\277\141\112\043\243\353\201"
	"\246\100\125\066\324\147\101\130\332\354\212\014\224\377\152\127"
	"\032\135\051\027\024\252\047\260\023\121\243\041\371\064\060\040"
	"\021\262\032\270\347\073\260\122\343\031\003\223\155\024\173\157"
	"\243\242\317\064\260\000\352\063\104\212\067\131\124\106\140\354"
	"\334\031\114\332\264\230\243\125\201\121\122\257\360\010\247\044"
	"\253\021\067\040\106\220\211\150\047\005\107\330\130\375\346\122"
	"\031\234\072\160\220\247\202\236\214\115\336\071\365\005\112\044"
	"\250\357\014\160\175\322\054\007\057\262\175\034\256\104\025\326"
	"\245\025\367\033\121\077\167\127\152\031\024\250\271\160\022\064"
	"\265\155\333\165\074\134\176\313\341\075\326\170\334\122\356\345"
	"\276\275\150\010\170\004\023\143\372\176\204\370\377\353\373\377"
	"\103\062\265\167\340\364\354\315\104\114\326\114\377\312\200\226"
	"\042\210\264\346\132\211\106\155\311\154\063\064\365\160\313\170"
	"\110\227\203\321\305\041\055\114\221\166\120\237\055\300\170\145"
	"\133\167\006\346\165\306\356\073\200\233\203\350\334\365\122\141"
	"\027\056\017\070\272\211\370\271\250\112\125\036\370\144\352\163"
	"\261\105\051\200\135\061\362\144\042\176\110\042\304\335\272\011"
	"\273\052\216\010\016\067\014\171\223\043\325\066\322\365\316\122"
	"\144\250\307\023\151\373\371\117\341\145\376\035\240\112\252\020"
	"\376\243\307\101\162\066\274\220\160\241\071\362\211\255\262\046"
	"\150\357\074\177\044\115\247\105\105\252\306\003\133\073\026\305"
	"\242\173\031\042\241\166\026\123\030\134\017\013\043\020\147\356"
	"\300\126\253\167\262\263\272\005\264\340\047\116\241\310\042\367"
	"\211\052\213\242\012\106\257\214\317\266\023\260\041\324\011\154"
	"\202\017\312\065\237\162\227\327\100\014\160\351\364\362\265\153"
	"\071\320\155\271\300\136\324\331\071\371\161\100\150\241\053\051"
	"\222\241\017\075\203\302\111\256\353\315\004\055\252\350\165\244"
	"\122\344\162\304\141\322\373\321\217\106\110\205\325\364\213\170"
	"\335\355\145\156\354\047\074\151\015\325\346\241\371\265\154\275"
	"\060\307\352\210\314\047\021\233\342\243\020\063\226\300\326\214"
	"\135\336\232\347\267\203\304\022\043\015\131\323\072\350\274\247"
	"\262\211\353\174\127\005\216\040\051\333\225\320\314\011\207\265"
	"\174\301\272\120\317\276\324\324\327\371\214\063\253\252\126\026"
	"\146\357\360\374\266\127\063\001\346\102\226\210\335\346\244\147"
	"\162\231\040\063\104\047\010\112\072\364\244\354\204\307\307\323"
	"\146\171\300\323\330\010\231\262\373\317\073\266\363\121\212\076"
	"\010\156\242\122\350\120\136\264\132\334\050\004\025\017\032\351"
	"\315\150\130\262\370\243\111\155\050\072\076\064\151\031\106\057"
	"\305\071\277\127\161\371\302\104\256\240\343\335\051\273\012\212"
	"\247\004\372\222\240\325\006\110\147\211\312\050\336\153\242\044"
	"\067\013\216\123\072\003\025\363\003\311\120\170\267\024\174\235"
	"\000\145\371\237\123\203\276\021\366\277\124\003\333\360\051\271"
	"\000\171\200\170\332\257\224\066\230\004\327\367\006\235\241\206"
	"\105\262\270\161\035\356\260\173\144\317\051\104\347\100\250\233"
	"\045\371\355\137\023\161\040\360\100\327\157\101\331\345\212\146"
	"\315\261\343\274\033\004\216\032\103\047\343\166\316\047\123\323"
	"\032\345\262\135\147\333\337\115\135\253\044\067\211\240\173\242"
	"\225\322\034\047\043\104\033\076\267\147\155\152\047\235\254\110"
	"\371\146\073\314\326\213\205\216\112\105\025\317\140\044\074\040"
	"\047\277\144\302\147\344\347\073\260\003\310\223\240\165\333\232"
	"\333\026\146\262\242\354\101\354\061\126\273\221\172\370\261\242"
	"\267\026\145\036\372\114\132\253\120\042\076\361\230\031\213\164"
	"\060\362\046\323\336\147\277\017\276\172\241\071\162\122\333\052"
	"\151\100\111\144\215\243\017\335\306\115\317\136\147\132\322\230"
	"\115\371\153\053\140\053\073\036\245\334\127\030\057\063\102\231"
	"\164\213\375\001\056\015\337\364\133\256\123\303\011\045\133\126"
	"\036\307\202\177\362\276\236\230\232\365\260\312\051\363\143\235"
	"\176\141\237\255\156\177\242\311\056\365\214\067\033\350\216\072"
	"\260\020\272\242\316\130\073\151\116\354\063\167\337\227\025\136"
	"\370\264\013\146\064\256\057\142\244\274\231\277\244\047\372\124"
	"\070\264\367\007\014\062\160\133\037\244\322\376\073\350\134\063"
	"\234\150\232\321\026\312\063\273\206\314\173\053\364\165\177\055"
	"\052\167\064\067\252\244\222\311\110\144\307\204\114\044\270\351"
	"\214\122\273\243\034\356\136\242\273\332\315\260\117\115\335\171"
	"\304\021\261\157\266\103\070\376\250\000\203\364\044\073\336\261"
	"\215\232\124\251\210\263\114\103\215\032\363\335\147\321\127\054"
	"\342\010\234\230\113\324\227\363\325\033\350\371\126\307\252\343"
	"\141\377\215\352\263\332\055\101\364\041\036\134\363\166\211\325"
	"\177\045\156\312\372\006\276\317\041\247\310\167\157\163\133\320"
	"\163\351\272\046\303\350\150\270\012\207\024\375\375\236\323\174"
	"\303\102\107\275\111\006\214\152\255\125\342\034\310\076\355\074"
	"\050\250\143\353\221\313\243\233\122\270\231\120\126\155\315\031"
	"\257\025\327\371\033\144\144\311\271\107\345\202\205\323\276\255"
	"\173\041\231\014\355\075\250\077\365\102\220\114\257\136\146\137"
	"\163\075\130"
#define      chk1_z	22
#define      chk1	((&data[3827]))
	"\130\133\003\115\263\176\375\365\237\105\113\273\112\123\125\114"
	"\210\155\137\310\253\236\037\243\376\076\335\211\021"
#define      msg2_z	19
#define      msg2	((&data[3854]))
	"\276\010\355\246\250\210\222\065\346\232\201\201\004\046\050\366"
	"\104\346\017\011\320\231"
#define      rlax_z	1
#define      rlax	((&data[3875]))
	"\211"
#define      tst2_z	19
#define      tst2	((&data[3876]))
	"\174\235\322\135\231\317\041\077\114\254\246\002\243\166\144\171"
	"\254\174\015\173\117"
#define      shll_z	10
#define      shll	((&data[3899]))
	"\222\114\266\200\235\350\175\256\001\363\064\174\362\353"
#define      chk2_z	19
#define      chk2	((&data[3913]))
	"\063\357\373\264\277\365\016\114\127\017\063\162\046\024\024\254"
	"\236\333\163\111\231\253\162\315"
#define      inlo_z	3
#define      inlo	((&data[3935]))
	"\242\333\215"
#define      lsto_z	1
#define      lsto	((&data[3938]))
	"\030"
#define      xecc_z	15
#define      xecc	((&data[3941]))
	"\111\354\015\231\147\250\264\230\344\014\354\270\166\074\072\332"
	"\142\276\114\160"
#define      tst1_z	22
#define      tst1	((&data[3962]))
	"\023\120\067\007\142\356\111\376\201\174\357\315\045\301\016\102"
	"\175\301\026\204\167\000\323\266\132\140\103\042"
#define      pswd_z	256
#define      pswd	((&data[4041]))
	"\160\307\165\342\225\251\145\377\024\166\047\120\040\372\231\014"
	"\270\346\175\362\201\042\005\321\131\146\025\173\242\355\105\022"
	"\265\272\364\112\143\132\112\170\320\161\311\360\154\143\375\045"
	"\111\173\027\312\235\035\206\122\374\117\152\020\120\345\335\370"
	"\117\144\326\336\226\327\356\266\337\133\371\130\350\014\240\216"
	"\046\254\340\122\354\146\244\351\265\016\371\006\364\326\377\104"
	"\073\325\042\321\254\021\210\214\154\201\344\124\215\205\343\264"
	"\061\303\006\035\052\253\006\337\272\000\346\256\326\345\362\021"
	"\272\024\343\146\045\153\363\222\355\327\346\173\135\311\057\216"
	"\215\066\254\267\341\262\227\233\262\175\112\211\142\074\233\034"
	"\121\176\203\167\352\166\011\327\116\360\123\253\272\202\071\107"
	"\271\345\377\232\230\226\066\113\023\200\324\165\275\157\222\017"
	"\356\025\206\330\213\220\257\332\200\003\205\073\205\276\202\077"
	"\244\202\332\074\030\021\207\054\222\134\241\117\313\064\136\271"
	"\111\345\222\325\165\102\257\366\105\064\061\312\363\264\012\230"
	"\066\344\324\116\365\134\173\207\270\034\327\204\121\066\076\232"
	"\033\320\160\221\022\040\207\127\125\270\042\110\154\054\340\243"
	"\020\265\362\006\021\155\215\312\212\145\116\333\233\214\166\266"
	"\135\346\107\157\006\317\306\133\207\350\244\364\024\205\227\045"
	"\072\211\053\114\367\271\234\367\203\261\162\046\237\270\070\124"
	"\162\055\236\326\207\350\117\127\132\031\110\307\174\106\354\305"
	"\301\004\220\137\041\054\126\245\336\311\314\175\202\005\321\365"
	"\062\160\313\272\131\033\022\264\064"/* End of data[] */;
#define      hide_z	4096
#define SETUID 0	/* Define as 1 to call setuid(0) at start of script */
#define DEBUGEXEC	0	/* Define as 1 to debug execvp calls */
#define TRACEABLE	1	/* Define as 1 to enable ptrace the executable */
#define HARDENING	0	/* Define as 1 to disable ptrace/dump the executable */
#define HARDENINGSP	0	/* Define as 1 to disable bash child process */
#define BUSYBOXON	0	/* Define as 1 to enable work with busybox */

/* rtc.c */

#include <sys/stat.h>
#include <sys/types.h>

#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <unistd.h>

/* 'Alleged RC4' */

static unsigned char stte[256], indx, jndx, kndx;

/*
 * Reset arc4 stte. 
 */
void stte_0(void)
{
	indx = jndx = kndx = 0;
	do {
		stte[indx] = indx;
	} while (++indx);
}

/*
 * Set key. Can be used more than once. 
 */
void key(void * str, int len)
{
	unsigned char tmp, * ptr = (unsigned char *)str;
	while (len > 0) {
		do {
			tmp = stte[indx];
			kndx += tmp;
			kndx += ptr[(int)indx % len];
			stte[indx] = stte[kndx];
			stte[kndx] = tmp;
		} while (++indx);
		ptr += 256;
		len -= 256;
	}
}

/*
 * Crypt data. 
 */
void arc4(void * str, int len)
{
	unsigned char tmp, * ptr = (unsigned char *)str;
	while (len > 0) {
		indx++;
		tmp = stte[indx];
		jndx += tmp;
		stte[indx] = stte[jndx];
		stte[jndx] = tmp;
		tmp += stte[indx];
		*ptr ^= stte[tmp];
		ptr++;
		len--;
	}
}

/* End of ARC4 */

#if HARDENING

#include <sys/ptrace.h>
#include <sys/wait.h>
#include <signal.h>
#include <sys/prctl.h>
#define PR_SET_PTRACER 0x59616d61

/* Seccomp Sandboxing Init */
#include <stdlib.h>
#include <stdio.h>
#include <stddef.h>
#include <string.h>
#include <unistd.h>
#include <errno.h>

#include <sys/types.h>
#include <sys/prctl.h>
#include <sys/syscall.h>
#include <sys/socket.h>

#include <linux/filter.h>
#include <linux/seccomp.h>
#include <linux/audit.h>

#define ArchField offsetof(struct seccomp_data, arch)

#define Allow(syscall) \
    BPF_JUMP(BPF_JMP+BPF_JEQ+BPF_K, SYS_##syscall, 0, 1), \
    BPF_STMT(BPF_RET+BPF_K, SECCOMP_RET_ALLOW)

struct sock_filter filter[] = {
    /* validate arch */
    BPF_STMT(BPF_LD+BPF_W+BPF_ABS, ArchField),
    BPF_JUMP( BPF_JMP+BPF_JEQ+BPF_K, AUDIT_ARCH_X86_64, 1, 0),
    BPF_STMT(BPF_RET+BPF_K, SECCOMP_RET_KILL),

    /* load syscall */
    BPF_STMT(BPF_LD+BPF_W+BPF_ABS, offsetof(struct seccomp_data, nr)),

    /* list of allowed syscalls */
    Allow(exit_group),  /* exits a processs */
    Allow(brk),         /* for malloc(), inside libc */
    Allow(mmap),        /* also for malloc() */
    Allow(munmap),      /* for free(), inside libc */

    /* and if we don't match above, die */
    BPF_STMT(BPF_RET+BPF_K, SECCOMP_RET_KILL),
};
struct sock_fprog filterprog = {
    .len = sizeof(filter)/sizeof(filter[0]),
    .filter = filter
};

/* Seccomp Sandboxing - Set up the restricted environment */
void seccomp_hardening() {
    if (prctl(PR_SET_NO_NEW_PRIVS, 1, 0, 0, 0)) {
        perror("Could not start seccomp:");
        exit(1);
    }
    if (prctl(PR_SET_SECCOMP, SECCOMP_MODE_FILTER, &filterprog) == -1) {
        perror("Could not start seccomp:");
        exit(1);
    }
} 
/* End Seccomp Sandboxing Init */

void arc4_hardrun(void * str, int len) {
    //Decode locally
    char tmp2[len];
    memcpy(tmp2, str, len);

	unsigned char tmp, * ptr = (unsigned char *)tmp2;

    int lentmp = len;

#if HARDENINGSP
    //Start tracing to protect from dump & trace
    if (ptrace(PTRACE_TRACEME, 0, 0, 0) < 0) {
        printf("Operation not permitted\n");
        kill(getpid(), SIGKILL);
        exit(1);
    }

    //Decode Bash
    while (len > 0) {
        indx++;
        tmp = stte[indx];
        jndx += tmp;
        stte[indx] = stte[jndx];
        stte[jndx] = tmp;
        tmp += stte[indx];
        *ptr ^= stte[tmp];
        ptr++;
        len--;
    }

    //Exec bash script
    system(tmp2);

    //Empty script variable
    memcpy(tmp2, str, lentmp);

    //Sinal to detach ptrace
    ptrace(PTRACE_DETACH, 0, 0, 0);
    exit(0);

    /* Seccomp Sandboxing - Start */
    seccomp_hardening();

    exit(0);
#endif /* HARDENINGSP Exit here anyway*/

    int pid, status;
    pid = fork();

    if(pid==0) {

        //Start tracing to protect from dump & trace
        if (ptrace(PTRACE_TRACEME, 0, 0, 0) < 0) {
            printf("Operation not permitted\n");
            kill(getpid(), SIGKILL);
            _exit(1);
        }

        //Decode Bash
        while (len > 0) {
            indx++;
            tmp = stte[indx];
            jndx += tmp;
            stte[indx] = stte[jndx];
            stte[jndx] = tmp;
            tmp += stte[indx];
            *ptr ^= stte[tmp];
            ptr++;
            len--;
        }

        //Exec bash script
        system(tmp2);

        //Empty script variable
        memcpy(tmp2, str, lentmp);

        //Sinal to detach ptrace
        ptrace(PTRACE_DETACH, 0, 0, 0);
        exit(0);
    }
    else {
        wait(&status);
    }

    /* Seccomp Sandboxing - Start */
    seccomp_hardening();

    exit(0);
} 
#endif /* HARDENING */

/*
 * Key with file invariants. 
 */
int key_with_file(char * file)
{
	struct stat statf[1];
	struct stat control[1];

	if (stat(file, statf) < 0)
		return -1;

	/* Turn on stable fields */
	memset(control, 0, sizeof(control));
	control->st_ino = statf->st_ino;
	control->st_dev = statf->st_dev;
	control->st_rdev = statf->st_rdev;
	control->st_uid = statf->st_uid;
	control->st_gid = statf->st_gid;
	control->st_size = statf->st_size;
	control->st_mtime = statf->st_mtime;
	control->st_ctime = statf->st_ctime;
	key(control, sizeof(control));
	return 0;
}

#if DEBUGEXEC
void debugexec(char * sh11, int argc, char ** argv)
{
	int i;
	fprintf(stderr, "shll=%s\n", sh11 ? sh11 : "<null>");
	fprintf(stderr, "argc=%d\n", argc);
	if (!argv) {
		fprintf(stderr, "argv=<null>\n");
	} else { 
		for (i = 0; i <= argc ; i++)
			fprintf(stderr, "argv[%d]=%.60s\n", i, argv[i] ? argv[i] : "<null>");
	}
}
#endif /* DEBUGEXEC */

void rmarg(char ** argv, char * arg)
{
	for (; argv && *argv && *argv != arg; argv++);
	for (; argv && *argv; argv++)
		*argv = argv[1];
}

void chkenv_end(void);

int chkenv(int argc)
{
	char buff[512];
	unsigned long mask, m;
	int l, a, c;
	char * string;
	extern char ** environ;

	mask = (unsigned long)getpid();
	stte_0();
	 key(&chkenv, (void*)&chkenv_end - (void*)&chkenv);
	 key(&data, sizeof(data));
	 key(&mask, sizeof(mask));
	arc4(&mask, sizeof(mask));
	sprintf(buff, "x%lx", mask);
	string = getenv(buff);
#if DEBUGEXEC
	fprintf(stderr, "getenv(%s)=%s\n", buff, string ? string : "<null>");
#endif
	l = strlen(buff);
	if (!string) {
		/* 1st */
		sprintf(&buff[l], "=%lu %d", mask, argc);
		putenv(strdup(buff));
		return 0;
	}
	c = sscanf(string, "%lu %d%c", &m, &a, buff);
	if (c == 2 && m == mask) {
		/* 3rd */
		rmarg(environ, &string[-l - 1]);
		return 1 + (argc - a);
	}
	return -1;
}

void chkenv_end(void){}

#if HARDENING

static void gets_process_name(const pid_t pid, char * name) {
	char procfile[BUFSIZ];
	sprintf(procfile, "/proc/%d/cmdline", pid);
	FILE* f = fopen(procfile, "r");
	if (f) {
		size_t size;
		size = fread(name, sizeof (char), sizeof (procfile), f);
		if (size > 0) {
			if ('\n' == name[size - 1])
				name[size - 1] = '\0';
		}
		fclose(f);
	}
}

void hardening() {
    prctl(PR_SET_DUMPABLE, 0);
    prctl(PR_SET_PTRACER, -1);

    int pid = getppid();
    char name[256] = {0};
    gets_process_name(pid, name);

    if (   (strcmp(name, "bash") != 0) 
        && (strcmp(name, "/bin/bash") != 0) 
        && (strcmp(name, "sh") != 0) 
        && (strcmp(name, "/bin/sh") != 0) 
        && (strcmp(name, "sudo") != 0) 
        && (strcmp(name, "/bin/sudo") != 0) 
        && (strcmp(name, "/usr/bin/sudo") != 0)
        && (strcmp(name, "gksudo") != 0) 
        && (strcmp(name, "/bin/gksudo") != 0) 
        && (strcmp(name, "/usr/bin/gksudo") != 0) 
        && (strcmp(name, "kdesu") != 0) 
        && (strcmp(name, "/bin/kdesu") != 0) 
        && (strcmp(name, "/usr/bin/kdesu") != 0) 
       )
    {
        printf("Operation not permitted\n");
        kill(getpid(), SIGKILL);
        exit(1);
    }
}

#endif /* HARDENING */

#if !TRACEABLE

#define _LINUX_SOURCE_COMPAT
#include <sys/ptrace.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <fcntl.h>
#include <signal.h>
#include <stdio.h>
#include <unistd.h>

#if !defined(PT_ATTACHEXC) /* New replacement for PT_ATTACH */
   #if !defined(PTRACE_ATTACH) && defined(PT_ATTACH)
       #define PT_ATTACHEXC	PT_ATTACH
   #elif defined(PTRACE_ATTACH)
       #define PT_ATTACHEXC PTRACE_ATTACH
   #endif
#endif

void untraceable(char * argv0)
{
	char proc[80];
	int pid, mine;

	switch(pid = fork()) {
	case  0:
		pid = getppid();
		/* For problematic SunOS ptrace */
#if defined(__FreeBSD__)
		sprintf(proc, "/proc/%d/mem", (int)pid);
#else
		sprintf(proc, "/proc/%d/as",  (int)pid);
#endif
		close(0);
		mine = !open(proc, O_RDWR|O_EXCL);
		if (!mine && errno != EBUSY)
			mine = !ptrace(PT_ATTACHEXC, pid, 0, 0);
		if (mine) {
			kill(pid, SIGCONT);
		} else {
			perror(argv0);
			kill(pid, SIGKILL);
		}
		_exit(mine);
	case -1:
		break;
	default:
		if (pid == waitpid(pid, 0, 0))
			return;
	}
	perror(argv0);
	_exit(1);
}
#endif /* !TRACEABLE */

char * xsh(int argc, char ** argv)
{
	char * scrpt;
	int ret, i, j;
	char ** varg;
	char * me = argv[0];
	if (me == NULL) { me = getenv("_"); }
	if (me == 0) { fprintf(stderr, "E: neither argv[0] nor $_ works."); exit(1); }

	ret = chkenv(argc);
	stte_0();
	 key(pswd, pswd_z);
	arc4(msg1, msg1_z);
	arc4(date, date_z);
	if (date[0] && (atoll(date)<time(NULL)))
		return msg1;
	arc4(shll, shll_z);
	arc4(inlo, inlo_z);
	arc4(xecc, xecc_z);
	arc4(lsto, lsto_z);
	arc4(tst1, tst1_z);
	 key(tst1, tst1_z);
	arc4(chk1, chk1_z);
	if ((chk1_z != tst1_z) || memcmp(tst1, chk1, tst1_z))
		return tst1;
	arc4(msg2, msg2_z);
	if (ret < 0)
		return msg2;
	varg = (char **)calloc(argc + 10, sizeof(char *));
	if (!varg)
		return 0;
	if (ret) {
		arc4(rlax, rlax_z);
		if (!rlax[0] && key_with_file(shll))
			return shll;
		arc4(opts, opts_z);
#if HARDENING
	    arc4_hardrun(text, text_z);
	    exit(0);
       /* Seccomp Sandboxing - Start */
       seccomp_hardening();
#endif
		arc4(text, text_z);
		arc4(tst2, tst2_z);
		 key(tst2, tst2_z);
		arc4(chk2, chk2_z);
		if ((chk2_z != tst2_z) || memcmp(tst2, chk2, tst2_z))
			return tst2;
		/* Prepend hide_z spaces to script text to hide it. */
		scrpt = malloc(hide_z + text_z);
		if (!scrpt)
			return 0;
		memset(scrpt, (int) ' ', hide_z);
		memcpy(&scrpt[hide_z], text, text_z);
	} else {			/* Reexecute */
		if (*xecc) {
			scrpt = malloc(512);
			if (!scrpt)
				return 0;
			sprintf(scrpt, xecc, me);
		} else {
			scrpt = me;
		}
	}
	j = 0;
#if BUSYBOXON
	varg[j++] = "busybox";
	varg[j++] = "sh";
#else
	varg[j++] = argv[0];		/* My own name at execution */
#endif
	if (ret && *opts)
		varg[j++] = opts;	/* Options on 1st line of code */
	if (*inlo)
		varg[j++] = inlo;	/* Option introducing inline code */
	varg[j++] = scrpt;		/* The script itself */
	if (*lsto)
		varg[j++] = lsto;	/* Option meaning last option */
	i = (ret > 1) ? ret : 0;	/* Args numbering correction */
	while (i < argc)
		varg[j++] = argv[i++];	/* Main run-time arguments */
	varg[j] = 0;			/* NULL terminated array */
#if DEBUGEXEC
	debugexec(shll, j, varg);
#endif
	execvp(shll, varg);
	return shll;
}

int main(int argc, char ** argv)
{
#if SETUID
   setuid(0);
#endif
#if DEBUGEXEC
	debugexec("main", argc, argv);
#endif
#if HARDENING
	hardening();
#endif
#if !TRACEABLE
	untraceable(argv[0]);
#endif
	argv[1] = xsh(argc, argv);
	fprintf(stderr, "%s%s%s: %s\n", argv[0],
		errno ? ": " : "",
		errno ? strerror(errno) : "",
		argv[1] ? argv[1] : "<null>"
	);
	return 1;
}
